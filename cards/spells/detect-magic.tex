% Detect Magic
% https://2e.aonprd.com/Spells.aspx?ID=66

\foreach[evaluate=\level as \lowerLevel using int(\level - 1)] \level in {1, ..., 10} {
\begin{card}{Cantrip}{\level}{Detect Magic}[CRB][328]

\CardTraits{Detection, Divination}

\Flavor{You send out a pulse that registers the presence of magic.}

\Attribute{Area}{30-foot emanation}

\Action[Somatic, Verbal]{CRB}{328}{2}{Cast}

\ifnum \level < 3
  You receive no information beyond the presence or absence of magic.
\fi

\ifnum \level = 3
  You learn the school of magic for the highest-level effect within range that the spell detects.
\fi

\ifnum \level > 3
  You learn the school of magic for the highest-level effect within range that the spell detects and pinpoint its source to a 5-foot cube.
\fi

You can choose to ignore magic you're fully aware of, such as the magic items and ongoing spells of you and your allies.

\ifnum \lowerLevel > 0
Detect illusion magic for effects with a level \(\le \lowerLevel\).
\else
You cannot detect illusion magic.
\fi
\end{card}
}